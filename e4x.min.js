//@source http://github.com/eligrey/e4x.js/blob/master/e4x.js
typeof XML!=="undefined"&&typeof DOMParser!=="undefined"&&typeof XMLSerializer!=="undefined"&&(function(k){"use strict";var h=k.prototype,j=document,l="application/xml",m=new DOMParser,o=new XMLSerializer,p=function(a){var b=m.parseFromString("<"+a.tagName+"/>",l),e=b.documentElement,g=a.childNodes,c=g.length,f=a.attributes,d=f.length;while(d--){e.setAttributeNode(b.adoptNode(f.item(0)))}for(d=0;d<c;d++){e.appendChild(b.adoptNode(g[d]))}return b},i=m.parseFromString("<x/>",l),q=/^[\w\-]+\s*/,n=function(a){var b;switch(a.nodeKind()){case"element":var e=a.attributes(),g=a.children(),c,f;b=i.createElementNS(a.namespace().uri||null,a.localName());if(e.length()!==0){c=0;f=e.length();var d;for(;c<f;c++){d=e[c];b.setAttributeNS(d.namespace().uri||null,d.localName(),d.toString())}}if(g.length()!==0){c=0;f=g.length();for(;c<f;c++){b.appendChild(n(g[c]))}}return b;case"text":return i.createTextNode(a.toString());case"comment":return i.createComment(a.toString().slice(4,-3));case"processing-instruction":return i.createProcessingInstruction(a.localName(),a.toString().slice(2,-2).replace(q,""));case"attribute":(b=i.createAttributeNS(a.namespace().uri||null,a.localName())).nodeValue=a.toString();return b}};h.function::domNode||(h.function::domNode=function(){if(this.length()!==1){return}return j.adoptNode(n(this))});h.function::domNodeList||(h.function::domNodeList=function(){var a=j.createDocumentFragment();for(var b=0,e=this.length();b<e;b++){a.appendChild(this[b].domNode())}return j.adoptNode(a).childNodes});h.function::xpath||(h.function::xpath=function(a){var b=new XMLList;if(this.length()!==1){for(var e=0,g=this.length();e<g;e++){b+=this[e].xpath(a)}return b}var c=p(this.domNode()),f=c.evaluate(a,c.documentElement,c.createNSResolver(c.documentElement),XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);var d;while(d=f.iterateNext()){b+=new k(o.serializeToString(d))}return b})}(XML));
