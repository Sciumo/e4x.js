//@source http://purl.eligrey.com/github/e4x.js/blob/master/e4x.js
"use strict";(function(m){var i=document,q=new XMLSerializer,r=/^[\w\-]+\s*/,j=null,o=function(a){var b=i.implementation.createDocument(j,j,j);if(a){b.appendChild(a)}return b},g=o(),p=function(a){var b;switch(a.nodeKind()){case"element":var d=a.attributes(),f=a.children(),e=f.length(),k=d.length(),c,l;b=g.createElementNS(a.namespace().uri,a.localName());if(k!==0){for(c=0;c<k;c++){l=d[c];b.setAttributeNS(l.namespace().uri,l.localName(),l.toString())}}if(e!==0){for(c=0;c<e;c++){b.appendChild(p(f[c]))}}return b;case"text":return g.createTextNode(a.toString());case"comment":return g.createComment(a.toString().slice(4,-3));case"processing-instruction":return g.createProcessingInstruction(a.localName(),a.toString().slice(2,-2).replace(r,""));case"attribute":(b=g.createAttributeNS(a.namespace().uri,a.localName())).nodeValue=a.toString();return b}},n={domNode:function(){if(this.length()===1){return i.adoptNode(p(this))}},domNodeList:function(){var a=i.createDocumentFragment();for(var b=0,d=this.length();b<d;b++){a.appendChild(this[b].domNode())}return i.adoptNode(a).childNodes},xpath:function(a){var b=new XMLList,d=this.length();if(d!==1){for(var f=0,d=d;f<d;f++){b+=this[f].xpath(a)}return b}var e=o(this.domNode()),k=e.evaluate(a,e.documentElement,e.createNSResolver(e.documentElement),XPathResult.ORDERED_NODE_ITERATOR_TYPE,j),c;while(c=k.iterateNext()){b+=new m(q.serializeToString(c))}return b}},h;for(h in n){if(n.hasOwnProperty(h)&&!m.prototype.function::[h]){m.prototype.function::[h]=n[h]}}}(XML));
