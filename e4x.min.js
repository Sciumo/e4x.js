//@source http://github.com/eligrey/e4x.js/blob/master/e4x.js
typeof XML!=="undefined"&&(function(a){var e=a.prototype,h=document,d="application/xml",g=new DOMParser,b=new XMLSerializer,i=g.parseFromString("<x/>",d),c=/<\?[\w\-]+|\?>/g,f=function(l){var p;switch(l.nodeKind()){case"element":var k=l.attributes(),n=l.children(),m,j;p=i.createElementNS(l.name().uri||null,l.localName());if(k.length()!==0){m=0;j=k.length();var o;for(;m<j;m++){o=k[m];p.setAttributeNS(o.name().uri||null,o.localName(),o.toString())}}if(n.length()!==0){m=0;j=n.length();for(;m<j;m++){p.appendChild(f(n[m]))}}return p;case"text":return i.createTextNode(l.toString());case"comment":p=l.toString();return i.createComment(p.substr(4,p.length-7));case"processing-instruction":return i.createProcessingInstruction(l.localName(),l.toString().replace(c,""));case"attribute":(p=i.createAttributeNS(l.name().uri||null,l.localName())).nodeValue=l.toString();return p}};e.function::domNode||(e.function::domNode=function(){if(this.length()!==1){return}return h.adoptNode(f(this))});e.function::domNodeList||(e.function::domNodeList=function(){var k=h.createDocumentFragment();for(var l=0,j=this.length();l<j;l++){k.appendChild(this[l].domNode())}return h.adoptNode(k).childNodes});e.function::xpath||(e.function::xpath=function(n){var m=new XMLList;if(this.length()!==1){var l=this.length();while(l--){m=this[l].xpath(n)+m}return m}var p=a.prettyPrinting;a.prettyPrinting=false;var k=g.parseFromString(this.toXMLString(),d),j=k.evaluate(n,k.documentElement,k.createNSResolver(k.documentElement),XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);a.prettyPrinting=p;var o;while(o=j.iterateNext()){m+=new a(b.serializeToString(o))}return m})}(XML));
