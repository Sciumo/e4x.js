//@source http://github.com/eligrey/e4x.js/blob/master/e4x.js
"use strict";(function(i){var j="undefined";if(typeof i===j||typeof DOMParser===j||typeof XMLSerializer===j){return}var k=document,l="application/xml",m=new DOMParser,o=new XMLSerializer,p=function(a){var b=m.parseFromString("<"+a.localName+"/>",l),e=b.documentElement,g=a.childNodes,c=g.length,f=a.attributes,d=f.length;while(d--){e.setAttributeNode(b.adoptNode(f.item(0)))}for(d=0;d<c;d++){e.appendChild(b.adoptNode(g[d]))}return b},h=m.parseFromString("<x/>",l),q=/^[\w\-]+\s*/,n=function(a){var b;switch(a.nodeKind()){case"element":var e=a.attributes(),g=a.children(),c,f;b=h.createElementNS(a.namespace().uri,a.localName());if(e.length()!==0){c=0;f=e.length();var d;for(;c<f;c++){d=e[c];b.setAttributeNS(d.namespace().uri,d.localName(),d.toString())}}if(g.length()!==0){c=0;f=g.length();for(;c<f;c++){b.appendChild(n(g[c]))}}return b;case"text":return h.createTextNode(a.toString());case"comment":return h.createComment(a.toString().slice(4,-3));case"processing-instruction":return h.createProcessingInstruction(a.localName(),a.toString().slice(2,-2).replace(q,""));case"attribute":(b=h.createAttributeNS(a.namespace().uri,a.localName())).nodeValue=a.toString();return b}},r=function(a){for(method in a){if(a.hasOwnProperty(method)&&!i.prototype.function::[method]){i.prototype.function::[method]=a[method]}}};r({domNode:function(){if(this.length()!==1){return}return k.adoptNode(n(this))},domNodeList:function(){var a=k.createDocumentFragment();for(var b=0,e=this.length();b<e;b++){a.appendChild(this[b].domNode())}return k.adoptNode(a).childNodes},xpath:function(a){var b=new XMLList;if(this.length()!==1){for(var e=0,g=this.length();e<g;e++){b+=this[e].xpath(a)}return b}var c=p(this.domNode()),f=c.evaluate(a,c.documentElement,c.createNSResolver(c.documentElement),XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);var d;while(d=f.iterateNext()){b+=new i(o.serializeToString(d))}return b}})}(XML));
