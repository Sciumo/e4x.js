//@source http://github.com/eligrey/e4x.js/blob/master/e4x.js
typeof XML!=="undefined"&&(function(a){var d=a.prototype,h=document,c="application/xml",g=new DOMParser,b=new XMLSerializer,i=g.parseFromString("<x/>",c),f=/^[\w\-]+\s*/,e=function(l){var p;switch(l.nodeKind()){case"element":var k=l.attributes(),n=l.children(),m,j;p=i.createElementNS(l.name().uri||null,l.localName());if(k.length()!==0){m=0;j=k.length();var o;for(;m<j;m++){o=k[m];p.setAttributeNS(o.name().uri||null,o.localName(),o.toString())}}if(n.length()!==0){m=0;j=n.length();for(;m<j;m++){p.appendChild(e(n[m]))}}return p;case"text":return i.createTextNode(l.toString());case"comment":return i.createComment(l.toString().slice(4,-3));case"processing-instruction":return i.createProcessingInstruction(l.localName(),l.toString().slice(2,-2).replace(f,""));case"attribute":(p=i.createAttributeNS(l.name().uri||null,l.localName())).nodeValue=l.toString();return p}};d.function::domNode||(d.function::domNode=function(){if(this.length()!==1){return}return h.adoptNode(e(this))});d.function::domNodeList||(d.function::domNodeList=function(){var k=h.createDocumentFragment();for(var l=0,j=this.length();l<j;l++){k.appendChild(this[l].domNode())}return h.adoptNode(k).childNodes});d.function::xpath||(d.function::xpath=function(n){var m=new XMLList;if(this.length()!==1){var l=this.length();while(l--){m=this[l].xpath(n)+m}return m}var p=a.prettyPrinting;a.prettyPrinting=false;var k=g.parseFromString(this.toXMLString(),c),j=k.evaluate(n,k.documentElement,k.createNSResolver(k.documentElement),XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);a.prettyPrinting=p;var o;while(o=j.iterateNext()){m+=new a(b.serializeToString(o))}return m})}(XML));
